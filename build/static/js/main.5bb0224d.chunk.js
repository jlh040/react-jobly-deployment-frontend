(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},177:function(e,t,n){},183:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},214:function(e,t){},216:function(e,t){},231:function(e,t){},233:function(e,t){},261:function(e,t){},263:function(e,t){},264:function(e,t){},269:function(e,t){},271:function(e,t){},277:function(e,t){},279:function(e,t){},298:function(e,t){},310:function(e,t){},313:function(e,t){},330:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(16),s=n(58),o=n.n(s),i=(n(169),n(170),n(10)),u=(n(171),function(){var e;return JSON.parse(localStorage.getItem("token"))?JSON.parse(localStorage.getItem("token")).token&&(e=!0):e=null,e}),l=n(14),j=a.a.createContext(),b=n(331),p=(n(172),n(1)),h=function(){var e=Object(r.useContext)(j).user;return Object(p.jsx)("div",{className:"Homepage",children:Object(p.jsxs)(b.a,{className:"Homepage-jumbotron",children:[Object(p.jsx)("h1",{className:"display-3",children:"Jobly"}),Object(p.jsx)("p",{className:"lead",children:"Your go-to place for the best jobs."}),e&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("hr",{className:"my-2"}),Object(p.jsxs)("h3",{children:["Welcome back ",e.firstName,"!"]})]})]})})},m=n(4),f=n.n(m),d=n(11),O=n(332),x=n(333),v=n(334),g=n(335),y=function(e){var t=e.handleSubmit,n=Object(r.useState)({search:""}),a=Object(i.a)(n,2),c=a[0],s=a[1];return Object(p.jsxs)(O.a,{onSubmit:function(e){return t(e,c)},className:"mt-5 mb-3",inline:!0,children:[Object(p.jsx)(x.a,{children:Object(p.jsx)(v.a,{type:"search",value:c.search,placeholder:"Enter search term..",onChange:function(e){s((function(t){return{search:e.target.value}}))}})}),Object(p.jsx)(g.a,{color:"primary",className:"mt-3",children:"Search"})]})},w=n(336),k=n(337),N=n(338),S=n(339),F=n(340),C=(n(177),function(e){var t=e.company;return Object(p.jsx)("div",{className:"CompanyCard",children:Object(p.jsx)(w.a,{className:"my-3",children:Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{tag:"h5",children:Object(p.jsx)(S.a,{tag:c.b,exact:!0,to:"/companies/".concat(t.handle),children:t.name})}),Object(p.jsx)(F.a,{children:t.description})]})})})}),U=n(341),J=function(e){var t=e.companies,n=e.setCompanies,a=Object(r.useContext)(j).JoblyApi,c=function(){var e=Object(d.a)(f.a.mark((function e(t,r){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.searchForCompanies(r.search);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(p.jsxs)(U.a,{children:[Object(p.jsx)(y,{handleSubmit:c}),t.map((function(e){return Object(p.jsx)(C,{company:e},e.handle)}))]})},L=function(){var e=Object(r.useContext)(j).JoblyApi,t=Object(r.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),o=Object(i.a)(s,2),u=o[0],l=o[1];return Object(r.useEffect)((function(){(function(){var t=Object(d.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllCompanies();case 2:n=t.sent,l(n),c(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(p.jsx)("div",{children:a?Object(p.jsx)(J,{companies:u,setCompanies:l}):Object(p.jsx)("h3",{children:"Loading..."})})},E=n(342),A=function(e){var t=e.job,n=e.displayCompany,a=e.applyForJob,c=e.user,s=e.setUser,o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],j=u[1],b=function(){var e=Object(d.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=6;break}return e.next=3,a(c,t);case 3:n=e.sent,s(n),j(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){c&&c.applications.includes(t.id)&&j(!0)}),[c]),Object(p.jsx)("div",{children:Object(p.jsx)(w.a,{className:"my-4",children:Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{tag:"h5",children:t.title}),Object(p.jsxs)(E.a,{tag:"h6",className:"mb-2 text-muted",children:["Salary: ",t.salary]}),Object(p.jsxs)(E.a,{tag:"h6",className:"mb-2 text-muted",children:["Equity: ",t.equity]}),Object(p.jsx)(F.a,{children:n?t.companyName:""}),Object(p.jsx)("div",{children:Object(p.jsx)(g.a,{onClick:b,color:"primary",disabled:!!l,children:l?"Applied":"Apply"})})]})})})},P=function(){var e=Object(r.useContext)(j),t=e.JoblyApi,n=e.user,a=e.applyForJob,c=e.setUser,s=Object(r.useState)(!1),o=Object(i.a)(s,2),u=o[0],b=o[1],h=Object(r.useState)({}),m=Object(i.a)(h,2),O=m[0],x=m[1],v=Object(l.h)().handle;return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCompany(n);case 2:r=e.sent,x(r),b(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(v)}),[]),Object(p.jsxs)(U.a,{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:O.name}),Object(p.jsx)("p",{children:Object(p.jsx)("i",{children:O.description})})]}),Object(p.jsx)("div",{children:u?O.jobs.map((function(e){return Object(p.jsx)(A,{user:n,setUser:c,job:e,applyForJob:a})})):Object(p.jsx)("h4",{children:"Loading..."})})]})},z=function(e){var t=e.jobs,n=e.setJobs,r=e.applyForJob,a=e.user,c=e.setUser,s=e.JoblyApi,o=function(){var e=Object(d.a)(f.a.mark((function e(t,r){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s.searchForJobs(r.search);case 3:a=e.sent,n(a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(p.jsxs)(U.a,{children:[Object(p.jsx)(y,{handleSubmit:o}),t.map((function(e){return Object(p.jsx)(A,{user:a,setUser:c,job:e,applyForJob:r,displayCompany:!0},e.id)}))]})},I=function(){var e=Object(r.useContext)(j),t=e.JoblyApi,n=e.user,a=e.setUser,c=e.applyForJob,s=Object(r.useState)(!1),o=Object(i.a)(s,2),u=o[0],l=o[1],b=Object(r.useState)([]),h=Object(i.a)(b,2),m=h[0],O=h[1];return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAllJobs();case 2:n=e.sent,O(n),l(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(p.jsx)("div",{children:u?Object(p.jsx)(z,{jobs:m,setJobs:O,applyForJob:c,user:n,setUser:a,JoblyApi:t}):Object(p.jsx)("h3",{children:"Loading..."})})},q=n(31),T=n(29),D=n(343),B=n(344),H=n(352),W=(n(183),function(){var e=Object(r.useContext)(j),t=e.user,n=e.handleUpdate,a={firstName:t?t.firstName:"",lastName:t?t.lastName:"",email:t?t.email:""},c=Object(r.useState)(a),s=Object(i.a)(c,2),o=s[0],u=s[1],l=Object(r.useState)(!1),b=Object(i.a)(l,2),h=b[0],m=b[1],f=function(e){u((function(t){return Object(T.a)(Object(T.a)({},t),{},Object(q.a)({},e.target.name,e.target.value))}))};return Object(r.useEffect)((function(){t&&u({firstName:t.firstName,lastName:t.lastName,email:t.email})}),[t]),Object(p.jsx)(U.a,{className:"EditProfileForm",children:Object(p.jsxs)(O.a,{onSubmit:function(e){return n(e,t.username,o,m)},className:"EditProfileForm-form",children:[Object(p.jsx)(x.a,{row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)("h2",{children:"Profile"}),Object(p.jsx)("hr",{}),Object(p.jsx)(B.a,{className:"EditProfileForm-label",for:"username",children:"Username"}),t?Object(p.jsx)("h6",{children:t.username}):""]})}),Object(p.jsx)(x.a,{className:"my-4",row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)(B.a,{className:"EditProfileForm-label",for:"first-name",children:"First name"}),Object(p.jsx)(v.a,{type:"text",name:"firstName",value:o.firstName,id:"first-name",onChange:f,placeholder:"First name"})]})}),Object(p.jsx)(x.a,{className:"my-4",row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)(B.a,{className:"EditProfileForm-label",for:"last-name",children:"Last name"}),Object(p.jsx)(v.a,{type:"text",name:"lastName",value:o.lastName,id:"last-name",onChange:f,placeholder:"Last name"})]})}),Object(p.jsx)(x.a,{className:"my-4",row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)(B.a,{className:"EditProfileForm-label",for:"email",children:"Email"}),Object(p.jsx)(v.a,{type:"email",name:"email",value:o.email,id:"email",onChange:f,placeholder:"Email"})]})}),Object(p.jsx)(D.a,{sm:{size:6,offset:3},children:h&&Object(p.jsx)(H.a,{color:"danger",children:h})}),Object(p.jsx)("div",{className:"EditProfileForm-button",children:Object(p.jsx)(g.a,{color:"primary",children:"Submit"})})]})})}),Y=function(){return Object(p.jsx)("div",{children:Object(p.jsx)(W,{})})},G=(n(191),function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useContext)(j).handleSignUp,s=Object(r.useState)({username:"",password:"",firstName:"",lastName:"",email:""}),o=Object(i.a)(s,2),u=o[0],l=o[1],b=function(e){l((function(t){return Object(T.a)(Object(T.a)({},t),{},Object(q.a)({},e.target.name,e.target.value))}))};return Object(p.jsx)(U.a,{className:"SignUpForm",children:Object(p.jsxs)(O.a,{onSubmit:function(e){return c(e,u,a)},className:"SignUpForm-form",children:[Object(p.jsx)(x.a,{row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)("h2",{children:"Sign Up"}),Object(p.jsx)(B.a,{className:"SignUpForm-label",for:"username",children:"Username"}),Object(p.jsx)(v.a,{type:"text",name:"username",value:u.username,id:"username",onChange:b,placeholder:"Username"})]})}),Object(p.jsx)(x.a,{className:"my-4",row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)(B.a,{className:"SignUpForm-label",for:"password",children:"Password"}),Object(p.jsx)(v.a,{type:"password",name:"password",value:u.password,id:"password",onChange:b,placeholder:"Password"})]})}),Object(p.jsx)(x.a,{className:"my-4",row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)(B.a,{className:"SignUpForm-label",for:"first-name",children:"First name"}),Object(p.jsx)(v.a,{type:"text",name:"firstName",value:u.firstName,id:"first-name",onChange:b,placeholder:"First name"})]})}),Object(p.jsx)(x.a,{className:"my-4",row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)(B.a,{className:"SignUpForm-label",for:"last-name",children:"Last name"}),Object(p.jsx)(v.a,{type:"text",name:"lastName",value:u.lastName,id:"last-name",onChange:b,placeholder:"Last name"})]})}),Object(p.jsx)(x.a,{className:"my-4",row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)(B.a,{className:"SignUpForm-label",for:"email",children:"Email"}),Object(p.jsx)(v.a,{type:"email",name:"email",value:u.email,id:"email",onChange:b,placeholder:"Email"})]})}),Object(p.jsx)(D.a,{sm:{size:6,offset:3},children:n&&Object(p.jsx)(H.a,{color:"danger",children:n})}),Object(p.jsx)("div",{className:"SignUpForm-button",children:Object(p.jsx)(g.a,{color:"primary",children:"Submit"})})]})})}),K=function(){return Object(p.jsx)("div",{style:{height:"100%"},children:Object(p.jsx)(G,{})})},M=(n(192),function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useContext)(j).handleLogin,s=Object(r.useState)({username:"",password:""}),o=Object(i.a)(s,2),u=o[0],l=o[1],b=function(e){l((function(t){return Object(T.a)(Object(T.a)({},t),{},Object(q.a)({},e.target.name,e.target.value))}))};return Object(p.jsx)(U.a,{className:"LoginForm",children:Object(p.jsxs)(O.a,{onSubmit:function(e){return c(e,u,a)},className:"LoginForm-form",children:[Object(p.jsx)(x.a,{row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)("h2",{children:"Log In"}),Object(p.jsx)(B.a,{className:"LoginForm-label",for:"username",children:"Username"}),Object(p.jsx)(v.a,{type:"text",name:"username",id:"username",value:u.username,onChange:b,placeholder:"Username"})]})}),Object(p.jsx)(x.a,{className:"my-4",row:!0,children:Object(p.jsxs)(D.a,{sm:{size:6,offset:3},children:[Object(p.jsx)(B.a,{className:"LoginForm-label",for:"password",children:"Password"}),Object(p.jsx)(v.a,{type:"password",name:"password",id:"password",value:u.password,onChange:b,placeholder:"Password"})]})}),Object(p.jsx)(D.a,{sm:{size:6,offset:3},className:"LoginForm-alert",children:n&&Object(p.jsx)(H.a,{color:"danger",children:n})}),Object(p.jsx)("div",{className:"LoginForm-button",children:Object(p.jsx)(g.a,{color:"primary",children:"Submit"})})]})})}),Q=function(){return Object(p.jsx)("div",{style:{height:"100%"},children:Object(p.jsx)(M,{})})},R=function(){var e=Object(r.useContext)(j),t=e.tokenFromLogin,n=e.setTokenFromLogin,a=e.tokenFromSignUp,c=e.setTokenFromSignUp,s=e.setTFLS;return localStorage.clear(),s(null),t?n(null):a&&c(null),Object(p.jsx)(l.a,{to:"/"})},V=(n(193),n(345)),X=n(346),Z=n(347),$=n(348),_=n(349),ee=n(350),te=n(351),ne=function(e){var t=Object(r.useContext)(j).user,n=Object(r.useState)(!1),a=Object(i.a)(n,2),s=a[0],o=a[1];return Object(p.jsx)("div",{className:"NavBar",children:Object(p.jsxs)(V.a,{className:"shadow-sm mb-2",color:"light",expand:"md",children:[Object(p.jsx)(X.a,{color:"primary",children:Object(p.jsx)(Z.a,{tag:c.b,exact:!0,to:"/",children:"Jobly"})}),Object(p.jsx)($.a,{onClick:function(){return o(!s)}}),Object(p.jsx)(_.a,{isOpen:s,navbar:!0,children:Object(p.jsxs)(ee.a,{className:"ms-auto",children:[t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(te.a,{children:Object(p.jsx)(Z.a,{tag:c.b,to:"/companies",children:"Companies"})}),Object(p.jsx)(te.a,{children:Object(p.jsx)(Z.a,{tag:c.b,exact:!0,to:"/jobs",children:"Jobs"})}),Object(p.jsx)(te.a,{children:Object(p.jsx)(Z.a,{tag:c.b,exact:!0,to:"/profile",children:"Profile"})}),Object(p.jsx)(te.a,{children:Object(p.jsxs)(Z.a,{tag:c.b,exact:!0,to:"/logout",children:["Log out ",t.firstName]})})]}),!t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(te.a,{children:Object(p.jsx)(Z.a,{tag:c.b,exact:!0,to:"/signup",children:"Sign Up"})}),Object(p.jsx)(te.a,{className:"me-3",children:Object(p.jsx)(Z.a,{tag:c.b,exact:!0,to:"/login",children:"Login"})})]})]})})]})})},re=function(){var e=u();return Object(p.jsxs)("div",{style:{height:"100%"},children:[Object(p.jsx)(ne,{}),Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/",children:Object(p.jsx)(h,{})}),Object(p.jsx)(l.b,{exact:!0,path:"/companies",children:e?Object(p.jsx)(L,{}):Object(p.jsx)(l.a,{to:"/login"})}),Object(p.jsx)(l.b,{exact:!0,path:"/companies/:handle",children:e?Object(p.jsx)(P,{}):Object(p.jsx)(l.a,{to:"/login"})}),Object(p.jsx)(l.b,{exact:!0,path:"/jobs",children:e?Object(p.jsx)(I,{}):Object(p.jsx)(l.a,{to:"/login"})}),Object(p.jsx)(l.b,{exact:!0,path:"/profile",children:e?Object(p.jsx)(Y,{}):Object(p.jsx)(l.a,{to:"/login"})}),Object(p.jsx)(l.b,{exact:!0,path:"/signup",children:Object(p.jsx)(K,{})}),Object(p.jsx)(l.b,{exact:!0,path:"/login",children:Object(p.jsx)(Q,{})}),Object(p.jsx)(l.b,{exact:!0,path:"/logout",children:Object(p.jsx)(R,{})})]})]})},ae=function(e){var t=Object(l.g)(),n=Object(r.useState)(),a=Object(i.a)(n,2),c=a[0],s=a[1],o=function(){var n=Object(d.a)(f.a.mark((function n(r,a,c){var o,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r.preventDefault(),console.log(a),n.next=5,e.signUp(a);case 5:o=n.sent,e.token=o,s(o),t.push("/"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),i=n.t0.map((function(e){return Object(p.jsx)("p",{children:e})})),c(i);case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t,r){return n.apply(this,arguments)}}();return[c,s,o]},ce=function(e){var t=Object(l.g)(),n=Object(r.useState)(),a=Object(i.a)(n,2),c=a[0],s=a[1],o=function(){var n=Object(d.a)(f.a.mark((function n(r,a,c){var o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r.preventDefault(),n.next=4,e.login(a);case 4:o=n.sent,e.token=o,s(o),t.push("/"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),c("Invalid username/password");case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t,r){return n.apply(this,arguments)}}();return[c,s,o]},se=function(e,t,n,a){var c=Object(r.useState)(),s=Object(i.a)(c,2),o=s[0],u=s[1];return Object(r.useEffect)((function(){(function(){var r=Object(d.a)(f.a.mark((function r(){var c;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n||e||t){r.next=5;break}return o&&u(null),r.abrupt("return");case 5:return r.next=7,a.getUser(n||t||e);case 7:c=r.sent,u(c);case 9:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}})()()}),[e,t,n,a]),[o,u,a]},oe=n(161),ie=n(162),ue=n(163),le=n.n(ue),je=n(164),be=n.n(je),pe="https://react-jobly-deployment.herokuapp.com",he=function(){function e(){Object(oe.a)(this,e)}return Object(ie.a)(e,null,[{key:"request",value:function(){var t=Object(d.a)(f.a.mark((function t(n){var r,a,c,s,o,i,u=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},a=u.length>2&&void 0!==u[2]?u[2]:"get",console.debug("API Call:",n,r,a),c="".concat(pe,"/").concat(n),s={Authorization:"Bearer ".concat(e.token)},o="get"===a?r:{},t.prev=6,t.next=9,le()({url:c,method:a,data:r,params:o,headers:s});case 9:return t.abrupt("return",t.sent.data);case 12:throw t.prev=12,t.t0=t.catch(6),console.error("API Error:",t.t0.response),i=t.t0.response.data.error.message,Array.isArray(i)?i:[i];case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getCompany",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCompanies",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies");case 2:return t=e.sent,e.abrupt("return",t.companies);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchForCompanies",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.trim().length){e.next=4;break}return e.abrupt("return",this.getAllCompanies());case 4:return e.next=6,this.request("companies",{name:t});case 6:return n=e.sent,e.abrupt("return",n.companies);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllJobs",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs");case 2:return t=e.sent,e.abrupt("return",t.jobs);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchForJobs",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.trim().length){e.next=4;break}return e.abrupt("return",this.getAllJobs());case 4:return e.next=6,this.request("jobs",{title:t});case 6:return n=e.sent,e.abrupt("return",n.jobs);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return n=e.sent,e.abrupt("return",n.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/token",t,"post");case 2:return n=e.sent,e.abrupt("return",n.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=be.a.decode(t).username,e.next=3,this.request("users/".concat(n));case 3:return r=e.sent,e.abrupt("return",r.user);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var t=Object(d.a)(f.a.mark((function t(n,r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("users/".concat(n),r,"patch");case 2:return t.next=4,this.getUser(e.token);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"applyForJob",value:function(){var t=Object(d.a)(f.a.mark((function t(n,r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("users/".concat(n,"/jobs/").concat(r),{},"post");case 2:return t.next=4,this.getUser(e.token);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),me=function(e){var t=Object(l.g)();return function(){var n=Object(d.a)(f.a.mark((function n(r,a,c,s){var o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r.preventDefault(),n.t0=e,n.next=5,he.updateUser(a,c);case 5:n.t1=n.sent,(0,n.t0)(n.t1),t.push("/"),n.next=15;break;case 10:n.prev=10,n.t2=n.catch(0),console.log(n.t2),o=n.t2.map((function(e){return Object(p.jsx)("p",{children:e})})),s(o);case 15:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t,r,a){return n.apply(this,arguments)}}()},fe=function(e,t,n,a){var c=Object(r.useState)((function(){try{if(JSON.parse(window.localStorage.getItem(e)))return JSON.parse(window.localStorage.getItem(e)).token}catch(t){alert("Local storage realized an error!")}})),s=Object(i.a)(c,2),o=s[0],u=s[1];return Object(r.useEffect)((function(){o?(window.localStorage.setItem(e,'{"token": "'.concat(o,'"}')),a.token=o):t?(window.localStorage.setItem(e,'{"token": "'.concat(t,'"}')),u(t)):n?(window.localStorage.setItem(e,'{"token": "'.concat(n,'"}')),u(n)):window.localStorage.setItem(e,'{"token": null}')}),[o,t,n,a,e]),[o,u]},de=function(){return function(){var e=Object(d.a)(f.a.mark((function e(t,n){var r,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=n.id,e.next=4,he.applyForJob(r,a);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};var Oe=function(){var e=ae(he),t=Object(i.a)(e,3),n=t[0],r=t[1],a=t[2],c=ce(he),s=Object(i.a)(c,3),o=s[0],u=s[1],l=s[2],b=fe("token",o,n,he),h=Object(i.a)(b,2),m=h[0],f=h[1],d=se(o,n,m,he),O=Object(i.a)(d,2),x=O[0],v=O[1],g=de(),y=me(v);return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(j.Provider,{value:{user:x,setUser:v,JoblyApi:he,tokenFromSignUp:n,setTokenFromSignUp:r,handleSignUp:a,tokenFromLogin:o,setTokenFromLogin:u,handleLogin:l,handleUpdate:y,applyForJob:g,setTFLS:f},children:Object(p.jsx)(re,{})})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,353)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};o.a.render(Object(p.jsx)(c.a,{children:Object(p.jsx)(Oe,{})}),document.getElementById("root")),xe()}},[[330,1,2]]]);
//# sourceMappingURL=main.5bb0224d.chunk.js.map