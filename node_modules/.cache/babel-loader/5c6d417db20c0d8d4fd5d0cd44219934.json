{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jeffhall/Desktop/Software Engineering Career Track/Section_IV/Exercises/Unit_43_Deployment_folder/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jeffhall/Desktop/Software Engineering Career Track/Section_IV/Exercises/Unit_43_Deployment_folder/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useHistory}from'react-router-dom';import JoblyApi from'../api';import{jsx as _jsx}from\"react/jsx-runtime\";var useUserUpdate=function useUserUpdate(setUser){var history=useHistory();var handleUpdate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,username,formData,setShowMessage){var errors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();_context.t0=setUser;_context.next=5;return JoblyApi.updateUser(username,formData);case 5:_context.t1=_context.sent;(0,_context.t0)(_context.t1);history.push('/');_context.next=15;break;case 10:_context.prev=10;_context.t2=_context[\"catch\"](0);console.log(_context.t2);errors=_context.t2.map(function(message){return/*#__PURE__*/_jsx(\"p\",{children:message});});setShowMessage(errors);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function handleUpdate(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();return handleUpdate;};export default useUserUpdate;","map":{"version":3,"sources":["/Users/jeffhall/Desktop/Software Engineering Career Track/Section_IV/Exercises/Unit_43_Deployment_folder/frontend/src/hooks/useUserUpdate.js"],"names":["useHistory","JoblyApi","useUserUpdate","setUser","history","handleUpdate","e","username","formData","setShowMessage","preventDefault","updateUser","push","console","log","errors","map","message"],"mappings":"qYAAA,OAASA,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,QAArB,C,2CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,OAAD,CAAa,CACjC,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,GAAMK,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,CAAUC,QAAV,CAAoBC,QAApB,CAA8BC,cAA9B,6IAEjBH,CAAC,CAACI,cAAF,GAFiB,YAGjBP,OAHiB,uBAGHF,CAAAA,QAAQ,CAACU,UAAT,CAAoBJ,QAApB,CAA8BC,QAA9B,CAHG,+DAIjBJ,OAAO,CAACQ,IAAR,CAAa,GAAb,EAJiB,iFAOjBC,OAAO,CAACC,GAAR,cACIC,MARa,CAQJ,YAAIC,GAAJ,CAAQ,SAAAC,OAAO,qBAAI,mBAAIA,OAAJ,EAAJ,EAAf,CARI,CASjBR,cAAc,CAACM,MAAD,CAAd,CATiB,qEAAH,kBAAZV,CAAAA,YAAY,wDAAlB,CAaA,MAAOA,CAAAA,YAAP,CACD,CAhBD,CAkBA,cAAeH,CAAAA,aAAf","sourcesContent":["import { useHistory } from 'react-router-dom';\nimport JoblyApi from '../api';\n\nconst useUserUpdate = (setUser) => {\n  const history = useHistory();\n  const handleUpdate = async (e, username, formData, setShowMessage) => {\n    try {\n      e.preventDefault();\n      setUser(await JoblyApi.updateUser(username, formData));\n      history.push('/');\n    }\n    catch(err) {\n      console.log(err)\n      let errors = err.map(message => <p>{message}</p>);\n      setShowMessage(errors);\n    }\n  };\n\n  return handleUpdate;\n};\n\nexport default useUserUpdate;"]},"metadata":{},"sourceType":"module"}