{"ast":null,"code":"import _slicedToArray from\"/Users/jeffhall/Desktop/Software Engineering Career Track/Section_IV/Exercises/Unit_43_Deployment_folder/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';var useLocalStorage=function useLocalStorage(key,tokenFromLogin,tokenFromSignUp,JoblyApi){var _useState=useState(function(){try{if(JSON.parse(window.localStorage.getItem(key))){var _JSON$parse=JSON.parse(window.localStorage.getItem(key)),token=_JSON$parse.token;return token;}}catch(e){alert('Local storage realized an error!');}}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){if(state){window.localStorage.setItem(key,\"{\\\"token\\\": \\\"\".concat(state,\"\\\"}\"));JoblyApi.token=state;}else if(tokenFromLogin){window.localStorage.setItem(key,\"{\\\"token\\\": \\\"\".concat(tokenFromLogin,\"\\\"}\"));setState(tokenFromLogin);}else if(tokenFromSignUp){window.localStorage.setItem(key,\"{\\\"token\\\": \\\"\".concat(tokenFromSignUp,\"\\\"}\"));setState(tokenFromSignUp);}else{window.localStorage.setItem(key,\"{\\\"token\\\": null}\");}},[state,tokenFromLogin,tokenFromSignUp,JoblyApi,key]);return[state,setState];};export default useLocalStorage;","map":{"version":3,"sources":["/Users/jeffhall/Desktop/Software Engineering Career Track/Section_IV/Exercises/Unit_43_Deployment_folder/frontend/src/hooks/useLocalStorage.js"],"names":["useState","useEffect","useLocalStorage","key","tokenFromLogin","tokenFromSignUp","JoblyApi","JSON","parse","window","localStorage","getItem","token","e","alert","state","setState","setItem"],"mappings":"oMAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,GAAD,CAAMC,cAAN,CAAsBC,eAAtB,CAAuCC,QAAvC,CAAoD,CAC1E,cAA0BN,QAAQ,CAAC,UAAM,CACvC,GAAI,CACF,GAAIO,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BR,GAA5B,CAAX,CAAJ,CAAkD,CAChD,gBAAkBI,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BR,GAA5B,CAAX,CAAlB,CAAQS,KAAR,aAAQA,KAAR,CACA,MAAOA,CAAAA,KAAP,CACD,CACF,CACD,MAAMC,CAAN,CAAS,CACPC,KAAK,CAAC,kCAAD,CAAL,CACD,CACF,CAViC,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAWAf,SAAS,CAAC,UAAM,CACd,GAAIc,KAAJ,CAAW,CACTN,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4Bd,GAA5B,yBAA+CY,KAA/C,SACAT,QAAQ,CAACM,KAAT,CAAiBG,KAAjB,CACD,CAHD,IAIK,IAAIX,cAAJ,CAAoB,CACvBK,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4Bd,GAA5B,yBAA+CC,cAA/C,SACAY,QAAQ,CAACZ,cAAD,CAAR,CACD,CAHI,IAIA,IAAIC,eAAJ,CAAqB,CACxBI,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4Bd,GAA5B,yBAA+CE,eAA/C,SACAW,QAAQ,CAACX,eAAD,CAAR,CACD,CAHI,IAIA,CACHI,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4Bd,GAA5B,sBACD,CACF,CAhBQ,CAgBN,CAACY,KAAD,CAAQX,cAAR,CAAwBC,eAAxB,CAAyCC,QAAzC,CAAmDH,GAAnD,CAhBM,CAAT,CAiBA,MAAO,CAACY,KAAD,CAAQC,QAAR,CAAP,CACD,CA9BD,CAgCA,cAAed,CAAAA,eAAf","sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useLocalStorage = (key, tokenFromLogin, tokenFromSignUp, JoblyApi) => {\n  const [state, setState] = useState(() => {\n    try {\n      if (JSON.parse(window.localStorage.getItem(key))) {\n        const { token } = JSON.parse(window.localStorage.getItem(key))\n        return token;\n      }\n    }\n    catch(e) {\n      alert('Local storage realized an error!');\n    }\n  });\n  useEffect(() => {\n    if (state) {\n      window.localStorage.setItem(key, `{\"token\": \"${state}\"}`);\n      JoblyApi.token = state;\n    }\n    else if (tokenFromLogin) {\n      window.localStorage.setItem(key, `{\"token\": \"${tokenFromLogin}\"}`);\n      setState(tokenFromLogin);\n    }\n    else if (tokenFromSignUp) {\n      window.localStorage.setItem(key, `{\"token\": \"${tokenFromSignUp}\"}`);\n      setState(tokenFromSignUp);\n    }\n    else {\n      window.localStorage.setItem(key, `{\"token\": null}`);\n    }\n  }, [state, tokenFromLogin, tokenFromSignUp, JoblyApi, key]);\n  return [state, setState];\n};\n\nexport default useLocalStorage;"]},"metadata":{},"sourceType":"module"}