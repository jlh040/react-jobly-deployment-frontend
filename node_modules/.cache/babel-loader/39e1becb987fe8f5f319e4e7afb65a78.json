{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\n\nconst useLocalStorage = (key, user, tokenFromLogin, tokenFromSignUp, JoblyApi) => {\n  _s();\n\n  const [state, setState] = useState(() => {\n    try {\n      if (JSON.parse(window.localStorage.getItem(key))) {\n        const {\n          token\n        } = JSON.parse(window.localStorage.getItem(key));\n        return token;\n      }\n    } catch (e) {\n      alert('Local storage realized an error!');\n    }\n  });\n  useEffect(() => {\n    if (state) {\n      window.localStorage.setItem(key, `{\"token\": \"${state}\"}`);\n      JoblyApi.token = state;\n    } else if (tokenFromLogin) {\n      window.localStorage.setItem(key, `{\"token\": \"${tokenFromLogin}\"}`);\n      setState(tokenFromLogin);\n    } else if (tokenFromSignUp) {\n      window.localStorage.setItem(key, `{\"token\": \"${tokenFromSignUp}\"}`);\n      setState(tokenFromSignUp);\n    } else {\n      window.localStorage.setItem(key, `{\"token\": null}`);\n    }\n  }, [state, tokenFromLogin, tokenFromSignUp, user]);\n  return [state, setState];\n};\n\n_s(useLocalStorage, \"PyH6gDcipj8zQ/Rvl/9ImZjowvI=\");\n\nexport default useLocalStorage;","map":{"version":3,"sources":["/Users/jeffhall/Desktop/Software Engineering Career Track/Section_IV/Exercises/Unit_43_react_jobly/react-jobly/frontend/src/hooks/useLocalStorage.js"],"names":["React","useState","useEffect","useLocalStorage","key","user","tokenFromLogin","tokenFromSignUp","JoblyApi","state","setState","JSON","parse","window","localStorage","getItem","token","e","alert","setItem"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;AAEA,MAAMC,eAAe,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,cAAZ,EAA4BC,eAA5B,EAA6CC,QAA7C,KAA0D;AAAA;;AAChF,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,MAAM;AACvC,QAAI;AACF,UAAIU,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BX,GAA5B,CAAX,CAAJ,EAAkD;AAChD,cAAM;AAAEY,UAAAA;AAAF,YAAYL,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BX,GAA5B,CAAX,CAAlB;AACA,eAAOY,KAAP;AACD;AACF,KALD,CAMA,OAAMC,CAAN,EAAS;AACPC,MAAAA,KAAK,CAAC,kCAAD,CAAL;AACD;AACF,GAViC,CAAlC;AAWAhB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,KAAJ,EAAW;AACTI,MAAAA,MAAM,CAACC,YAAP,CAAoBK,OAApB,CAA4Bf,GAA5B,EAAkC,cAAaK,KAAM,IAArD;AACAD,MAAAA,QAAQ,CAACQ,KAAT,GAAiBP,KAAjB;AACD,KAHD,MAIK,IAAIH,cAAJ,EAAoB;AACvBO,MAAAA,MAAM,CAACC,YAAP,CAAoBK,OAApB,CAA4Bf,GAA5B,EAAkC,cAAaE,cAAe,IAA9D;AACAI,MAAAA,QAAQ,CAACJ,cAAD,CAAR;AACD,KAHI,MAIA,IAAIC,eAAJ,EAAqB;AACxBM,MAAAA,MAAM,CAACC,YAAP,CAAoBK,OAApB,CAA4Bf,GAA5B,EAAkC,cAAaG,eAAgB,IAA/D;AACAG,MAAAA,QAAQ,CAACH,eAAD,CAAR;AACD,KAHI,MAIA;AACHM,MAAAA,MAAM,CAACC,YAAP,CAAoBK,OAApB,CAA4Bf,GAA5B,EAAkC,iBAAlC;AACD;AACF,GAhBQ,EAgBN,CAACK,KAAD,EAAQH,cAAR,EAAwBC,eAAxB,EAAyCF,IAAzC,CAhBM,CAAT;AAiBA,SAAO,CAACI,KAAD,EAAQC,QAAR,CAAP;AACD,CA9BD;;GAAMP,e;;AAgCN,eAAeA,eAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst useLocalStorage = (key, user, tokenFromLogin, tokenFromSignUp, JoblyApi) => {\n  const [state, setState] = useState(() => {\n    try {\n      if (JSON.parse(window.localStorage.getItem(key))) {\n        const { token } = JSON.parse(window.localStorage.getItem(key))\n        return token;\n      }\n    }\n    catch(e) {\n      alert('Local storage realized an error!');\n    }\n  });\n  useEffect(() => {\n    if (state) {\n      window.localStorage.setItem(key, `{\"token\": \"${state}\"}`);\n      JoblyApi.token = state;\n    }\n    else if (tokenFromLogin) {\n      window.localStorage.setItem(key, `{\"token\": \"${tokenFromLogin}\"}`);\n      setState(tokenFromLogin);\n    }\n    else if (tokenFromSignUp) {\n      window.localStorage.setItem(key, `{\"token\": \"${tokenFromSignUp}\"}`);\n      setState(tokenFromSignUp);\n    }\n    else {\n      window.localStorage.setItem(key, `{\"token\": null}`);\n    }\n  }, [state, tokenFromLogin, tokenFromSignUp, user]);\n  return [state, setState];\n};\n\nexport default useLocalStorage;"]},"metadata":{},"sourceType":"module"}