{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jeffhall/Desktop/Software Engineering Career Track/Section_IV/Exercises/Unit_43_Deployment_folder/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jeffhall/Desktop/Software Engineering Career Track/Section_IV/Exercises/Unit_43_Deployment_folder/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jeffhall/Desktop/Software Engineering Career Track/Section_IV/Exercises/Unit_43_Deployment_folder/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";var useSignUp=function useSignUp(JoblyApi){var history=useHistory();var _useState=useState(),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var handleSignUp=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,formData,setShowMessage){var respToken,errors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();console.log(formData);_context.next=5;return JoblyApi.signUp(formData);case 5:respToken=_context.sent;JoblyApi.token=respToken;setToken(respToken);history.push('/');_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);errors=_context.t0.map(function(message){return/*#__PURE__*/_jsx(\"p\",{children:message});});setShowMessage(errors);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function handleSignUp(_x,_x2,_x3){return _ref.apply(this,arguments);};}();return[token,setToken,handleSignUp];};export default useSignUp;","map":{"version":3,"sources":["/Users/jeffhall/Desktop/Software Engineering Career Track/Section_IV/Exercises/Unit_43_Deployment_folder/frontend/src/hooks/useSignUp.js"],"names":["useState","useHistory","useSignUp","JoblyApi","history","token","setToken","handleSignUp","e","formData","setShowMessage","preventDefault","console","log","signUp","respToken","push","errors","map","message"],"mappings":"ykBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,2CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,QAAD,CAAc,CAC9B,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CACA,cAA0BD,QAAQ,EAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,CAAUC,QAAV,CAAoBC,cAApB,uJAEjBF,CAAC,CAACG,cAAF,GACAC,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAHiB,sBAION,CAAAA,QAAQ,CAACW,MAAT,CAAgBL,QAAhB,CAJP,QAIXM,SAJW,eAKjBZ,QAAQ,CAACE,KAAT,CAAiBU,SAAjB,CACAT,QAAQ,CAACS,SAAD,CAAR,CACAX,OAAO,CAACY,IAAR,CAAa,GAAb,EAPiB,iFAUbC,MAVa,CAUJ,YAAIC,GAAJ,CAAQ,SAAAC,OAAO,qBAAI,mBAAIA,OAAJ,EAAJ,EAAf,CAVI,CAWjBT,cAAc,CAACO,MAAD,CAAd,CAXiB,qEAAH,kBAAZV,CAAAA,YAAY,oDAAlB,CAcA,MAAO,CAACF,KAAD,CAAQC,QAAR,CAAkBC,YAAlB,CAAP,CACD,CAlBD,CAoBA,cAAeL,CAAAA,SAAf","sourcesContent":["import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst useSignUp = (JoblyApi) => {\n  const history = useHistory();\n  const [token, setToken] = useState();\n  const handleSignUp = async (e, formData, setShowMessage) => {\n    try {\n      e.preventDefault();\n      console.log(formData);\n      const respToken = await JoblyApi.signUp(formData);\n      JoblyApi.token = respToken;\n      setToken(respToken);\n      history.push('/');\n    }\n    catch(err) {\n      let errors = err.map(message => <p>{message}</p>);\n      setShowMessage(errors);\n    }\n  };\n  return [token, setToken, handleSignUp];\n};\n\nexport default useSignUp;"]},"metadata":{},"sourceType":"module"}